<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>
<h1><a href="details.html">details.html</a></h1>


<script type="module">

const options = {
  method: 'GET',
  headers: {
    accept: 'application/json',
    Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwODE2MjU1ZDRlZjRkMjljMTk1MWEwYzllZTc0MzhlMyIsInN1YiI6IjY2MmNhYTJhZjZmZDE4MDEyODIyMzFiNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.mL2dduBP0Qzg4Pqy8gMLYnXHu0g8LfmQA0FQoaQngVQ'
  }
};

let results_data=[];

for (let i=1;i<=40;i++) {
    fetch(`https://api.themoviedb.org/3/movie/top_rated?language=en-US&page=${i}`, options)
  .then(response => response.json())
  .then(response => {
    console.log(response);
    results_data[response["page"]]=response["results"];
        }
    )
  .catch(err => console.error(err));
}
console.log("result_data: ");
console.log(results_data);

</script>

</html>